<section class="blogpost-page">
  <div class="container display-flex">
    <div class="box col-12">
      <div class="card flex-column m-2">
        <div class="card-header display-flex justify-space-between">
          <h2>{{blogPost.postTitle}}</h2>
          <p class="my-auto">Posted by
            {{blogPost.user.username}}
            on
            {{format_date blogPost.postDate}}</p>
        </div>
        <div class="card-body bg-light" style="flex: 1">
          <p>{{blogPost.postContent}}</p>
        </div>
      </div>
    </div>
  </div>
  {{#if comments}}
    <div class="container display-flex">
      <h2 class="ml-2">Comments</h2>
    </div>
  {{/if}}
  <div class="container display-flex">
    <div class="box col-12">
      <section class="comment">
        {{#each comments as |comment|}}
          <div class="card m-2">
            <div class="card-header display-flex justify-space-between">
              <h5>{{user.username}}</h5>
              <p class="my-auto">Posted on
                {{format_date comment.commentsDate}}</p>
            </div>
            <div class="card-body box-shadow p-10 bg-light">
              {{comment.commentsContent}}
            </div>
          </div>
        {{/each}}
      </section>
    </div>
  </div>
  {{#if logged_in}}
    <div class="container display-flex box col-6">
      <form class="form newComment-form">
        <div class="form-group">
          <label for="comment-content"><h3>Leave a comment!</h3></label>
          <textarea
            class="form-input"
            type="text"
            id="comment-content"
          ></textarea>
        </div>
        <div class="form-group display-flex py-2">
          <button
            class="btn btn-primary"
            style="flex-grow: 1"
            type="submit"
          >Submit</button>
        </div>
      </form>
    </div>
  {{/if}}

</section>

<script src="/js/createComment.js"></script>